<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="negahe%20koli_files/filelist.xml">
<title>SA</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Sepinood</o:Author>
  <o:LastAuthor>Sepinood</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2007-04-16T16:09:00Z</o:Created>
  <o:LastSaved>2007-04-16T16:09:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>728</o:Words>
  <o:Characters>4156</o:Characters>
  <o:Company>Nasa</o:Company>
  <o:Lines>34</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4875</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-alt:"Courier New";
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:ComicSansMS;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
<link href="styl.css" rel="stylesheet" type="text/css" />
</head>

<body lang=EN-US style='tab-interval:.5in' topmargin="0" bottommargin="0" class="LeftFrmText" dir="rtl">
<table width="1024" border="0">
<tr>
<td valign="top" style="color:#000099;font-size:14px;line-height:21px" dir="ltr" >
<p class="parafStart" dir="rtl">نخ کشی چگونه کار می کند ( How Threading Works )</p>
<div class=Section1>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>چند
ریسمانی از درون (از درون سیستم عامل) و ذاتاً توسط یک تابع</span><i><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread
scheduler</span></i><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'> </span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span><span
style='mso-spacerun:yes'> </span>یا زمانبند ریسمان ، که یک تابع وکیل از طرف </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>CLR</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> برای سیستم عامل است، مدیریت می شود.
زمانبند ریسمان تضمین میکند که به تمام ریسمانهای فعال در حال اجرا ، زمان اجرای
مناسبی اختصاص می یابد و همچنین دیگر ریسمانهایی که بلوکه شده اند (مثلاً به خاطر
یک قفل انحصاری ) یا در حال انتظارند (مثلاً منتظر ورودی کاربرند) ، زمان </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>CPU</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> را مصرف نمی کنند.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در یک
کامپیوتر با یک پردازنده ، زمانبند ریسمان </span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>time-slicing</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> میکند، یعنی زمان را تقسیم میکند و
با سرعت بین ریسمانهای در حال اجرا </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>switch</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> می کند. این کار یک رفتار متلاطم را بوجود می آورد، مانند عملکرد
مثال اول وقتی که به ریسمانهای اجرا کننده بلاکهای تکرار کننده کاراکترهای </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>X</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> و </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Y</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> یک بازۀ زمانی اختصاص می یافت. در
ویندوز </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>XP</span><span dir=RTL></span><span style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> <span
lang=FA>، یک بازۀ زمانی معمولاً چند دهم میلی ثانیه است. که این مقدار باید بیشتر
از زمان سربار برای عمل تعویض متن </span></span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>CPU</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> بین ریسمانها باشد (این زمان تعویض متن معمولاً چند میکروثانیه
است).<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در یک
کامپیوتر با چند پردازنده، چند ریسمانی ترکیبی از </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>time-scilcing</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> و یک همزمانی واقعی به علت داشتن بیش
از یک پردازنده است که در آن ریسمانهای متفاوت کد اجرایی خود را روی </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>CPU</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> های مجزا اجرا می کنند. تقریباً روشن
است که هنوز به </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>time-slicing</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
نیاز است زیرا سیستم عامل باید به ریسمانهای خود نیز مانند ریسمانهای برنامه های
دیگر سرویس دهد.</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>وقتی
که اجرای یک ریسمان بعلت یک عامل خارجی مانند </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>time-slicing</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> وقفه می خورد، میگوییم آن ریسمان
قبضه کرده است یا انحصار کرده است.در اکثر مواقع یک ریسمان هیچ کنترلی بر اینکه کی
و کجا انحصار میکند ندارد.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class="parafStart" dir="rtl">نخها در مقابل پردازه ها ( Threads vs. Processes )</p>
<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>تمام
ریسمانهای مربوط به یک برنامه به طور منطقی در یک پردازه نیز قرار دارند – پردازه
(</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>process</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>) واحدی از سیستم
عامل است که برنامه در آن اجرا می شود.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>ریسمانها
شباهتهای خاصی با پردازه ها دارند، برای مثال پردازه ها نیز مانند ریسمانها از </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>time-slicing</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> استفاده میکنند ولی فرقشان این است
که پردازه ها در سطح کامپیوتر و با پردازه های دیگر شامل برش زمانی می شوند و از </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Time-slicing</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> استفاده میکنند ولی ریسمانها در سطح
یک برنامه </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>C#</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
و با ریسمانهای دیگر از </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>time-slicing</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> استفاده می کنند.و نیز تفاوت اساسی و کلیدی آنها با هم این است که
پردازه ها به طور کامل از هم مجزا هستند ولی ریسمانهای در حال اجرای یک برنامه حافظه
را بین خود به اشتراک می گذارند.و این چیزیست که ریسمانها را موثر ساخته <span
class=GramE>است :</span> یک ریسمان میتواند در پس زمینه مشغول واکشی داده باشد در
حالی که در همین لحظه ریسمان دیگری داده های تازه رسیده را نمایش می دهد.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class="parafStart" dir="rtl">چه موقع از نخها استفاده کنیم ( When to Use Threads )</p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک برنامه
معمولی به منظور چند ریسمانی بودن کارهای زمانگیری را در پس زمینه انجام می دهد.
ریسمان اصلی در حال اجراست و در همین موقع ریسمان کارگر مشغول انجام امور پس زمینه
است. در برنامه های فرمی ویندوز ، اگر ریسمان اصلی برنامه مقید به انجام یک عمل
زمانگیر طولانی باشد ، پیامهای رسیده از کیبورد و ماوس نمی توانند پردازش شوند و
لذا برنامه فاقد مسوولیت اجرایی میشود.به همین دلیل ارزش آن را دارد که امور
زمانبر را ریسمانهای کارگر انجام دهند، حتی اگر ریسمان اصلی برنامه در کنترل
مستقیم کاربر و در حال اجرای یک فرم دیالوگ </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>modal</span><span
dir=RTL></span><span style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'><span dir=RTL></span> <span lang=FA>باشد که تا زمانی که کار خاصی که مورد
نظر است کامل نشده ، کار دیگری نمیکند (پیام &quot;</span></span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Processing…
please wait</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>&quot;) . این کار
تضمین میکند برنامه توسط سیستم عامل به عنوان &quot;</span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Not Responding</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span>&quot; یا برنامه ای که جواب نمی دهد
شناخته نشود ، و همچنین کاربر را برای خاتمه دادن اجباری برنامه فریب ندهد. انجام
شدن کار اصلی یک فرم </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>modal</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
توسط ریسمان کارگر با عث می شود فرم بتواند رویدادهای دیگری را نیز بپذیرد و لذا
به همین خاطر است که میتوان برای فرم دکمه &quot;</span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Cancel</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span>&quot; گذاشت.کلاس کارگر پس زمینه
تنها در چنین الگوهای استفاده ای کاربرد می یابند.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در
مورد برنامه هایی که رابط کاربری ندارند ، مانند یک برنامه </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>windows
service</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> ، چند ریسمانی
معنی دیگری می دهد زیرا در اینجا وقتی کاری زمانبر است در انتظار پاسخی از یک
کامپیوتر دیگر است ( از قبیل یک سرویس دهنده برنامه ، یک سرویس دهنده بانک
اطلاعاتی یا یک سرویس گیرنده ) .داشتن یک ریسمان کارگر برای انجام کار به این
معنیست که ریسمان برانگیخته شده برای انجام یک کار فوراً آماده انجام کار دیگریست.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>کاربرد
دیگر چند ریسمانی در متدهایی است که محاسبات خفن انجام می دهند. چنین متدهایی در
صورتی که بر روی کامپیوترهای چند پردازنده انجام شوند و قسمتهای مختلف کارشان توسط
چندین ریسمان که روی چندین پردازنده اجرا میشوند انجام گیرد ، سریعتر اجرا میشوند.
( شما می توانید تعداد پردازنده های یک کامپیوتر را با خاصیت </span><b><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Environment.ProcessorCount</span></b><span
dir=RTL></span><b><span style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'><span dir=RTL></span> </span></b><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>در </span><span dir=LTR></span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=LTR></span>.NET</span><span dir=RTL></span><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> بدست
آورید ).<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک
برنامه </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>C#</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
به دو روش میتواند چند ریسمانی شود : <o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='margin-right:.5in;text-align:right;
text-indent:-.25in;mso-list:l0 level1 lfo1;tab-stops:list .5in right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><![if !supportLists]><span
style='font-size:11.0pt;font-family:Tahoma;mso-fareast-font-family:Tahoma;
mso-bidi-language:FA'><span style='mso-list:Ignore'>1-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir=RTL><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>تولید و اجرای صریح ریسمانهای
اضافی<o:p></o:p></span></span></p>

<p class=MsoNormal dir=RTL style='margin-right:.5in;text-align:right;
text-indent:-.25in;mso-list:l0 level1 lfo1;tab-stops:list .5in right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><![if !supportLists]><span
style='font-size:11.0pt;font-family:Tahoma;mso-fareast-font-family:Tahoma;
mso-bidi-language:FA'><span style='mso-list:Ignore'>2-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir=RTL><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>استفاده از </span></span><span
dir=LTR></span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=LTR></span>.NET Framework</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> به گونه ای که در خودش ذاتاً و به طور ضمنی ریسمانها را تولید
میکند ( مانند </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>BackgroundWorker,thread pooling,threading timer,Remoting
server,web service,ASP.NET</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
).</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
style='mso-spacerun:yes'> </span>که در موارد دوم برنامه نویس فقط باعث
چندریسمانی شدن برنامه میشود و کنترل مستقیم ندارد. یک برنامه سرویس دهنده وب ( </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>web
server</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> ) تک ریسمانی
نمیتواند چندان دلچسب و کارامد باشد حتی اگر چنین چیزی ممکن باشد ، <span
style='mso-spacerun:yes'> </span>و حتی با وجود </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>aplication
server</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> های ناپایدار ، خوشبختانه
و انصافاً چندریسمانی عمل کردن ساده است و اگر کسی درگیر چنین موردی باشد تنها
کافیست یک مکانیزم قفل گذاری مناسب برای کش کردن داده ها در متغیرهای </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>static</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> داشته باشد.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class="parafStart" dir="rtl">چه موقع از نخها استفاده نکنیم ( When Not to Use Threads )</p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>چند
ریسمانی همیشه با مشکلاتی نیز همراه است. بزرگترین آنها این است که ممکن است باعث
پیچیدگی زیاد برنامه شود. داشتن چندین ریسمان به خودی خود و ذاتاً پیچیدگی نمی
آفریند بلکه این فعل و انفعال (</span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>interaction</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span>) بین ریسمانهاست که باعث پیچیدگی میشود خواه این فعل و انفعالات
ارادی باشد (کنترل شده،صریح) یا نباشد ، این پیچیدگی میتواند دوره تولید نرم افزار
را طولانی کند و همچنین برنامه را برای داشتن باگهای غیر قابل تکثیر و متناوب
مستعد سازد.به همین دلیل ، باید چنین فعل و انفعالاتی در یک طراحی چند ریسمانی ،
ساده باشد ( یا اصلاً اگر لازم نیست چند ریسمانی صورت نگیرد ) مگر اینکه سرتون
واسه </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>debugging</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
و دوباره نویسی درد کنه.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>چند
ریسمانی همچنین با مفهوم منابع سیستم همراه است و لذا در صورتی که </span><span
lang=AR-SA style='font-size:11.0pt;font-family:Tahoma'>بحد افراط از ریسمان استفاده
کنیم،</span><span lang=AR-SA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'> </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>CPU</span><span dir=RTL></span><span
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
<span lang=FA>برای اختصاص منابع به ریسمانها و همچنین </span></span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>switch</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> کردن بین ریسمانها بهای قابل توجهی
خواهد پرداخت.بویژه وقتی درگیر مقدار فاحشی از منابع </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>I/O</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> هستیم ، اگر فقط یک یا دو ریسمان
کارگر که کارها را به نوبت انجام دهند داشته باشیم کار بسیار سریعتر انجام میگیرد
تا اینکه بخواهیم تعداد زیادی ریسمان که در یک زمان اجرا میشوند داشته باشیم. در
ادامه یک صف تولیدکننده/مصرف کننده که این مکانیزم را ایجاد میکند تشریح خواهد شد.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>
</td>
<td width="5"></td>
<td width="2" valign="top">
<table width="2" border="0" cellspacing="0" cellpadding="0" >
  <tr>
    <td background="topborder.jpg" height="10"></td>
  </tr>
  <tr>
    <td bgcolor="#ccccff" height="1250" valign="top"></td>
  </tr>
  <tr>
    <td background="bottonborder.jpg" height="10" ></td>
  </tr>
</table>
</td>
<td width="5"></td>
<td width="258" valign="top">
<p align="center" style="font-family:'Times New Roman', Times, serif;font-size:18px;font-weight:bold">فهرست مطالب</p>
<p align="right" style="font-family:'Times New Roman', Times, serif;font-size:16px;font-weight:bold">بخش اول : شروع<br />
<a href="1_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نگاه کلی و مفاهیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخ کشی چگونه کار می کند</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخها در مقابل پردازه ها</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده کنیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده نکنیم</a><br />
<a href="1_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تولید و راه اندازی نخها</a><br />
<a href="1_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;فرستادن داده به تابع ThreadStart</a><br />
<a href="1_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نامگذاری نخها</a><br />
<a href="1_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخهای پیش زمینه و پس زمینه</a><br />
<a href="1_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اولویت نخ</a><br />
<a href="1_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;مدیریت استثناء</a><br />
بخش دوم : همزمانی مقدماتی<br />
<a href="2_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملزومات همزمانی</a><br />
<a href="2_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;بلوکه کردن</a><br />
<a href="2_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;خوابیدن و ریسندگی</a><br />
<a href="2_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;الحاق یک نخ</a><br />
<a href="2_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری و امنیت نخ</a><br />
<a href="2_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انتخاب شیء همزمانی</a><br />
<a href="2_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری لانه ای</a><br />
<a href="2_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع قفل گذاری کنیم</a><br />
<a href="2_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملاحضات عملکرد</a><br />
<a href="2_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;امنیت نخ</a><br />
<a href="2_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وقفه و انصراف</a><br />
<a href="2_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وضعیت نخ</a><br />
<a href="2_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;دستگیره های کنترل انتظار</a><br />
<a href="2_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AutoResetEvent</a><br />
<a href="2_17.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ManualResetEvent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_18.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mutex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_19.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Semaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_20.htm" class="lnks" dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SignalAndWait , WaitAny&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>and WaitAll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_21.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متون همزمانی</a><br />
<a href="2_22.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درون روی</a><br />
بخش سوم : بکارگیری نخها<br />
<a href="3_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;آپارتمانها و فرمهای ویندوز</a><br />
<a href="3_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعیین یک مدل آپارتمانی</a><br />
<a href="3_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control.Invoke</a><br />
<a href="3_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کارگر پس زمینه</a><br />
<a href="3_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کلاس ReaderWriterLock</a><br />
<a href="3_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استخر نخها</a><br />
<a href="3_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نماینده های ناهمزمان</a><br />
<a href="3_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متدهای ناهمزمان از پیش تعریف شده</a><br />
<a href="3_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تایمرها</a><br />
<a href="3_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انباره محلی</a><br />
بخش چهارم : موضوعات پیشرفته<br />
<a href="4_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;همزمانی غیربلوکه ای</a><br />
<a href="4_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اتمی عمل کردن و قرار گرفتن <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; در کنار هم با الگوی همزمانی</a><br />
<a href="4_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;حصارهای حافظه و فراریت</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعاریف Wait و Pulse</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چگونه از Wait و Pulse استفاده کنیم</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse تعمیم یافته</a><br />
<a href="4_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;صف تولید کننده/مصرف کننده</a><br />
<a href="4_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استفاده از زمان timeout برای Wait</a><br />
<a href="4_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;رقابتها و تصدیق</a><br />
<a href="4_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;شبیه سازی دستگیره های کنترل انتظار</a><br />
<a href="4_12.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait  و   Pulse در مقابل دستگیره های <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; کنترل انتظار</a><br />
<a href="4_13.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انصراف از نخها</a><br />
<a href="4_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درآمیختگی با Thread.Abort</a><br />
<a href="4_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به دامنه های برنامه</a><br />
<a href="4_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به پردازه ها</a><br />
</p>
</td>
</tr>
</table>
</body>

</html>
