<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="negahe%20koli_files/filelist.xml">
<title>SA</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Sepinood</o:Author>
  <o:LastAuthor>Sepinood</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2007-04-16T16:09:00Z</o:Created>
  <o:LastSaved>2007-04-16T16:09:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>728</o:Words>
  <o:Characters>4156</o:Characters>
  <o:Company>Nasa</o:Company>
  <o:Lines>34</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4875</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-alt:"Courier New";
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:ComicSansMS;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
<link href="styl.css" rel="stylesheet" type="text/css" />
</head>

<body lang=EN-US style='tab-interval:.5in' topmargin="0" bottommargin="0" class="LeftFrmText" dir="rtl">
<table width="1024" border="0">
<tr>
<td valign="top" style="color:#000099;font-size:14px;line-height:21px" dir="ltr" >
<p class="parafStart" dir="rtl">صف تولید کننده/مصرف کننده  Producer/Consumer Queue</p>
<div class=Section1>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یکی از
کاربردهای ساده </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>Wait/Pulse</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
یک صف تولید کننده / مصرف کننده است . ساختاری که پیش از این با استفاده از یک </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>AutoResetEvent</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> نوشتیم . یک تولید کننده ( معمولاً
در ریسمان اصلی برنامه ) کارها را به صف وارد می کند در حالیکه یک یا چندین مصرف
کننده که در ریسمانهای کارگر در حال اجرا هستند کارها را از صف در آورده و یکی یکی
اجرا می کنند .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در این
مثال برای نشان دادن یک کار از یک رشته استفاده می کنیم . لذا صف کار ما چیزی شبیه
این خواهد بود :<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Queue</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&lt;</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&gt; taskQ = </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>Queue</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&lt;</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>string</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&gt;();</span></b><b><span lang=FA dir=RTL style='font-size:11.0pt;
mso-ascii-font-family:Courier;mso-hansi-font-family:Courier;color:black;
mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>از
آنجا که صف توسط چندین ریسمان استفاده خواهد شد ، می بایست تمام عباراتی که از صف
میخوانند یا در صف می نویسند را در یک قفل قرار دهیم . در اینجا میبینیم که چگونه
یک کار را به صف وارد میکنیم :<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue (</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:maroon'>&quot;my task&quot;</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.PulseAll (locker); </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:green'>// We're altering
a blocking condition<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><span lang=FA dir=RTL style='font-size:10.0pt;
mso-ascii-font-family:Courier;mso-hansi-font-family:Courier;color:black;
mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>از
آنجا که یک شرط بلوکه بالقوه را تغییر داده ایم می بایست پالس کنیم . به جای </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> از </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>PulseAll</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> استفاده کردیم زیرا میخواهیم به
چندین مصرف کننده اجازه استفاده بدهیم . ممکن است بیش از یک ریسمان در حال انتظار
باشد .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>ما از
کارگرها میخواهیم که در زمانیکه هیچ کاری برای انجام دادن نیست یعنی عنصری در صف
نیست ، بلوکه شوند . بنابراین شرط بلوکه بصورت </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>taskQ.Count==0</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> خواهد بود . این عبارت </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Wait</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> دقیقاً این کار را انجام میدهد :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>while </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count == 0) </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Wait (locker);</span></b><b><span lang=FA dir=RTL
style='font-size:11.0pt;mso-ascii-font-family:Courier;mso-hansi-font-family:
Courier;color:black;mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>مرحله
بعدی این است که کارگر کار را از صف بیرون آورده و اجرا کند :<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>while </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count == 0) </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Wait (locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>task;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>task =
taskQ.Dequeue();<o:p></o:p></span></b></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>این
منطق هنوز </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
نیست . ما برای در آوردن اطلاعات از صف بر روی اطلاعات نادرستی تکیه می کنیم<span
style='mso-spacerun:yes'>  </span>که از عبارت </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>lock</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> قبلی گرفته ایم . فرض کنید چه اتفاقی
می افتد اگر 2 ریسمان مصرف کننده را همزمان به راه بیاندازیم در حالیکه یک عنصر
درون صف است . امکان دارد هیچ یک از ریسمانها برای بلوکه کردن نتوانند وارد حلقه </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>while</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> شوند<span
style='mso-spacerun:yes'>  </span>هر دو آنها یک عنصر را در صف می بینند لذا هر
دو تلاش می کنند یک عنصر را از صف خارج کنند که این رفتار باعث میشود تلاش دومی یک
استثناء را ایجاد کند . برای بر طرف کردن این مشکل باید قفل را کمی بیشتر در
اختیار نگه داریم یعنی تا زمانیکه کارمان با صف تمام شود <o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>task;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>while </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count == 0) </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Wait (locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>task =
taskQ.Dequeue();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><b><span lang=FA dir=RTL style='font-size:11.0pt;
mso-ascii-font-family:Courier;mso-hansi-font-family:Courier;color:black;
mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>پس از
خارج کردن عنصر از صف لازم نیست پالس کنیم . چون با توجه به اینکه با هر بار وارد
کردن عنصر به صف </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
میکنیم و با توجه به ظرفیت صف و تعداد مصرف کنندگان 2 حالت اتفاق می افتد :<o:p></o:p></span></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal dir=RTL style='margin-right:.5in;margin-left:0in;
     text-align:right;mso-list:l0 level1 lfo1;tab-stops:list .5in right 537.85pt;
     mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:
     embed'><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
     mso-bidi-language:FA'>اینکه تعداد کارها یا همان عناصر صف یا ظرفیت صف برابر
     یا کمتر از تعداد مصرف کنندگان است که در این صورت همیشه مصرف کننده بیکاری
     داریم که بخواهد عنصر بعدی را درآورد و اجرا کند که البته با این حساب عنصری
     وجود ندارد .</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
     mso-bidi-language:FA'><o:p></o:p></span></li>
 <li class=MsoNormal dir=RTL style='margin-right:.5in;margin-left:0in;
     text-align:right;mso-list:l0 level1 lfo1;tab-stops:list .5in right 537.85pt;
     mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:
     embed'><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
     mso-bidi-language:FA'>اینکه تعداد مصرف کنندگان کمتر از ظرفیت و یا عناصر صف
     است که معمولاً اینگونه است که در این حالت هم در هر زمان به تعداد مصرف
     کنندگان عنصر از صف بیرون رفته و در حال اجراست و لذا مصرف کننده بیکاری
     نداریم که بخواهیم با پالس به آن بگوییم به سراغ صف برود و کاری را انجام دهد
     . البته باز هم با ورود عنصر جدید به صف همه مصرف کنندگان مطلع میشوند و گوش
     به زنگ هستند که بلافاصله پس از اتمام کار جاریشان به سراغ صف بروند و اگر
     عنصری وجود دارد و میتوانند آنرا بیرون آورده و اجرا کنند .</span><span
     dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></li>
</ol>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یکبار
که یک کار از صف بیرون کشیده شد دیگر ضرورتی ندارد تا قفل را نزد ریسمان مصرف
کننده نگه داریم . رها کردن قفل در این مرحله (پس از بیرون آوردن کار از صف) به
مصرف کننده این امکان را میدهد تا کار احتمالاً زمانگیر جاری را انجام دهد بدون
آنکه ریسمانهای دیگر را بی دلیل بلوکه کرده باشد .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در
اینجا با هم برنامه کامل را ببینیم . مانند کدی که </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>AutoResetEvent</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> نوشتیم ، از یک رشته </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>null</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> برای اعمال دستور خروج به یک مصرف
کننده استفاده می کنیم ( البته پس از اینکه تمام کارهایش را انجام داد خارج شود ) .
از آنجا که میخواهیم از چندین مصرف کننده استفاده کنیم باید برای پایان دادن به
کار صف به هر کدام از مصرف کننده ها یک رشته </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>null</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> بدهیم :<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><i><span
style='font-family:Arial;color:black'>Wait/Pulse Boilerplate #2:
Producer/Consumer Queue<o:p></o:p></span></i></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:
Courier;color:blue'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>using </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>System;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>using </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>System.Threading;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>using </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>System.Collections.Generic;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>public class </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>TaskQueue </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>: </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>IDisposable </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>{<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>object </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>locker = </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'>new object</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Thread</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>[] workers;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Queue</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&lt;</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>string</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&gt; taskQ = </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>new </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Queue</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&lt;</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&gt;();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>  </span>public </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>TaskQueue (</span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'>int </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>workerCount) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>    </span>workers = </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>Thread </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>[workerCount];<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:green'><span style='mso-spacerun:yes'>    </span>// Create and start a
separate thread for each worker<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>for </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>int </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>i = 0; i &lt; workerCount; i++)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>      </span>(workers [i] = </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>Thread </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(Consume)).Start();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>  </span>public void </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>Dispose() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:green'><span style='mso-spacerun:yes'>    </span>// Enqueue one null task
per worker to make each exit.<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>foreach </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>Thread </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>worker </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'>in </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>workers) EnqueueTask (</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>null</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>foreach </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>Thread </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>worker </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'>in </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>workers) worker.Join();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>  </span>public void </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>EnqueueTask (</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>string </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>task) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>lock </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>      </span>taskQ.Enqueue (task);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><i><span
style='font-size:11.0pt;font-family:Courier-BoldOblique;mso-bidi-font-family:
Courier-BoldOblique;color:teal'><span style='mso-spacerun:yes'>      </span>Monitor</span></i></b><b><i><span
style='font-size:11.0pt;font-family:Courier-BoldOblique;mso-bidi-font-family:
Courier-BoldOblique;color:black'>.PulseAll </span></i></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>  </span>void </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>Consume() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>while </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>true</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>      </span>string </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>task;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>      </span>lock </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>        </span>while </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count == 0) </span></b><b><i><span style='font-size:11.0pt;
font-family:Courier-BoldOblique;mso-bidi-font-family:Courier-BoldOblique;
color:teal'>Monitor</span></i></b><b><i><span style='font-size:11.0pt;
font-family:Courier-BoldOblique;mso-bidi-font-family:Courier-BoldOblique;
color:black'>.Wait </span></i></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>(locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>        </span>task =
taskQ.Dequeue();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>  </span><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>      </span>if </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(task == </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'>null</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>) </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>return</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>; </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:green'>// This signals our exit<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'><span style='mso-spacerun:yes'>      </span>Console</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Write (task);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'><span style='mso-spacerun:yes'>      </span>Thread</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Sleep (1000); </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:green'>// Simulate
time-consuming task<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><b><span lang=FA dir=RTL style='font-size:11.0pt;
font-family:Arial;color:black;mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>حال
متد </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>Main</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> که با آن یک صف
کار تولید میکنیم را ببینیم ، دو ریسمان کارگر همزمان تعریف می کنیم و سپس 10 کار
را وارد صف میکنیم تا بین این دو ریسمان مشترک شوند و توسط آنها اجرا شوند .<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>static void </span></b><st1:place w:st="on"><b><span
 style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
 color:black'>Main</span></b></st1:place><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>using </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>TaskQueue </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>q = </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>new </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>TaskQueue </span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>(2)) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'><span style='mso-spacerun:yes'>    </span>for </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>int </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>i = 0; i &lt; 10; i++)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>      </span>q.EnqueueTask (</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:maroon'>&quot; Task&quot; </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>+ i);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'><span style='mso-spacerun:yes'>    </span>Console</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.WriteLine (</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:maroon'>&quot;Enqueued
10 tasks&quot;</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'><span style='mso-spacerun:yes'>    </span>Console</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.WriteLine (</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:maroon'>&quot;Waiting
for tasks to complete...&quot;</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:green'><span style='mso-spacerun:yes'>  </span>// Exiting the using
statement runs TaskQueue's Dispose method, which<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:green'><span style='mso-spacerun:yes'>  </span>// shuts down the
consumers, after all outstanding tasks are completed.<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'><span style='mso-spacerun:yes'>  </span>Console</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.WriteLine (</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:maroon'>&quot;\r\nAll
tasks done!&quot;</span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><b><span lang=FA dir=RTL style='font-size:11.0pt;
mso-ascii-font-family:Courier;mso-hansi-font-family:Courier;color:black;
mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
mso-border-alt:solid windowtext .5pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#E0E0E0'>

<p class=MsoNormal style='background:#E0E0E0;mso-layout-grid-align:none;
text-autospace:none;border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>Enqueued
10 tasks<o:p></o:p></span></b></p>

<p class=MsoNormal style='background:#E0E0E0;mso-layout-grid-align:none;
text-autospace:none;border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>Waiting
for tasks to complete...<o:p></o:p></span></b></p>

<p class=MsoNormal style='background:#E0E0E0;mso-layout-grid-align:none;
text-autospace:none;border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>Task1
Task0 (pause...) Task2 Task3 (pause...) Task4 Task5 (pause...)<o:p></o:p></span></b></p>

<p class=MsoNormal style='background:#E0E0E0;mso-layout-grid-align:none;
text-autospace:none;border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>Task6
Task7 (pause...) Task8 Task9 (pause...)<o:p></o:p></span></b></p>

<p class=MsoNormal style='background:#E0E0E0;mso-layout-grid-align:none;
text-autospace:none;border:none;mso-border-alt:solid windowtext .5pt;
padding:0in;mso-padding-alt:1.0pt 4.0pt 1.0pt 4.0pt'><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>All tasks
done!<span lang=AR-SA dir=RTL><o:p></o:p></span></span></b></p>

</div>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>بسته
به الگوی طراحیمان ، اگر </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> را با </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>Wait</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
و روش تعویض قفل (</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>lock toggling</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>)
عوض کنیم خروجی یکسانی خواهیم داشت .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><b><span
lang=FA style='font-size:16.0pt;mso-bidi-language:FA'>صرفه جویی در </span></b><b><span
dir=LTR style='font-size:16.0pt;mso-bidi-language:FA'>Pulse</span></b><span
dir=RTL></span><b><span lang=FA style='font-size:16.0pt;mso-bidi-language:FA'><span
dir=RTL></span><span style='mso-spacerun:yes'>               </span><span
style='mso-spacerun:yes'> </span></span></b><b><span dir=LTR style='font-size:
16.0pt;mso-bidi-language:FA'>Pulse Economy<o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>با
نگاه دوباره ای به روند وارد کردن یک کار به صف توسط تولید کننده :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue
(task);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.PulseAll (locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}<span lang=AR-SA dir=RTL><o:p></o:p></span></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
lang=FA dir=RTL style='font-size:10.0pt;mso-ascii-font-family:Courier;
mso-hansi-font-family:Courier;color:black;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>اگر
بخواهیم دقیق شویم ، میتوانیم در پالس کردن صرفه جویی کنیم و فقط زمانی که کارگر
بیکاری (بلوکه ای) موجود باشد پالس کنیم :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue
(task);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>if </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count &lt;= workers.Length) </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Monitor</span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>.PulseAll (locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}<span lang=AR-SA dir=RTL><o:p></o:p></span></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
lang=FA dir=RTL style='font-size:11.0pt;mso-ascii-font-family:Courier;
mso-hansi-font-family:Courier;color:black;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>با این
کار مقدار ناچیزی صرفه جویی کرده ایم ، زیرا عمل پالس در زیر یک میکروثانیه انجام
میگیرد و هیچ سرباری بر کارگرهای مشغول اعمال نمی کند زیرا آنها این پالس را
نادیده میگیرند ! این سیاست خوبی است که در کدهای چند ریسمانی از هر گونه منطق غیر
ضروری اجتناب کنیم : یک باگ مرسوم ناشی از یک اشتباه ابلهانه این است که به خاطر
صرفه جویی در یک میکروثانیه هزینه گزافی بپردازیم ! برای توضیح بیشتر ، کد زیر
گویاست که باگ &quot;</span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>stuk worker</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span>&quot; را باعث میشود :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue
(task);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'>if </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(taskQ.Count &lt; workers.Length) </span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Monitor</span></b><b><span style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>.PulseAll (locker);<o:p></o:p></span></b></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>}</span></b><span lang=FA dir=RTL
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>اگر
بدون شرط پالس کنیم این باگ بوجود نمی آید.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 3.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed;
border:none;mso-border-alt:solid windowtext 3.0pt;padding:0in;mso-padding-alt:
1.0pt 4.0pt 1.0pt 4.0pt'><span lang=FA style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>اگر بین </span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> و </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
دو به شک هستید، </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>Pulse</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
را به کار ببرید . زیرا با </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> به ندرت به اشتباه می افتید<o:p></o:p></span></p>

</div>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><b><span
dir=LTR style='font-size:16.0pt;mso-bidi-language:FA'>Pulse or PulseAll?<o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>این
موضوع از صرفه جویی بیشتر در مورد پالس نشات میگیرد . پس از وارد کردن یک کار به
صف میتوانستیم </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>Pulse</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
را به جای </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
فراخوانی کنیم و آب هم از آب تکان نمیخورد .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>بگذارید
بازبینی مختصری داشته باشیم : با </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> حداکثر یک ریسمان میتواند آگاه شود ( و شرط بلوکه حلقه </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>while</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> خود را دوباره چک کند ) </span><span
dir=LTR></span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=LTR></span>;</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> با </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
، همه ریسمانهای در حال انتظار آگاه میشوند ( و شرایط بلوکه خود را دوباره چک
میکنند ). اگر فقط یک کار را به صف وارد میکردیم فقط یک کارگر میتوانست به آن
رسیدگی کند بنابراین میبایست فقط یک کارگر را با یک </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> تنها آگاه و بیدار کنیم . این تا
اندازه ای شبیه داشتن کلاسی از بچه های خواب آلود است ( اگر فقط یک بستنی داشته
باشیم میتوانیم همه آنها را از خواب آلودگی در آورده و برای آن به صف کنیم ) .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>ما در
مثال خود فقط از دو ریسمان مصرف کننده استفاده کردیم ، لذا بهره اندکی میخواستیم .
ولی اگر 10 مصرف کننده را به راه میانداختیم معقولتر است که </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Pulse</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span><span style='mso-spacerun:yes'> 
</span>را به جای </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>PulseAll</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
انتخاب کنیم . این بدین معنیست که اگر چندین کار را به صف بیافزاییم باید چندین
بار هم پالس کنیم . این کار را میتوان با یک عبارت </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>lock</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> مانند زیر انجام داد :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock </span></b><b><span style='font-size:11.0pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>(locker) {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue (</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:maroon'>&quot;task 1&quot;</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>taskQ.Enqueue (</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:maroon'>&quot;task 2&quot;</span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:black'>);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Pulse (locker); </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:green'>// &quot;Signal
up to two<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.0pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:teal'>Monitor</span></b><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.Pulse (locker); </span></b><b><span style='font-size:11.0pt;
font-family:Courier;mso-bidi-font-family:Courier;color:green'>// waiting
threads.&quot;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.0pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><b><span lang=FA dir=RTL style='font-size:11.0pt;
mso-ascii-font-family:Courier;mso-hansi-font-family:Courier;color:black;
mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>هزینه
یک </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>pulse</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> خیلی کوتاه یک
باگ </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>stuk worker</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> است . این
معمولاً بعنوان یک باگ متناوب معلوم میشود ، زیرا فقط زمانی که مصرف کننده در حالت
انتظار یا </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>Waiting</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
باشد آشکار میشود . لذا میتوان پند قبل را به این صورت بیان کرد که اگر در استفاده
از </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>Pulse</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> و </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>PulseAll</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> شک دارید از </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>PulseAll</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> استفاده کنید .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>به
استثنای زمانی باشد که ارزیابی شرط بلوکه ( </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>blocking
condition</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> ) زمانگیر باشد .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>


</td>
<td width="5"></td>
<td width="2" valign="top">
<table width="2" border="0" cellspacing="0" cellpadding="0" >
  <tr>
    <td background="topborder.jpg" height="10"></td>
  </tr>
  <tr>
    <td bgcolor="#ccccff" height="1250" valign="top"></td>
  </tr>
  <tr>
    <td background="bottonborder.jpg" height="10" ></td>
  </tr>
</table>
</td>
<td width="5"></td>
<td width="258" valign="top">
<p align="center" style="font-family:'Times New Roman', Times, serif;font-size:18px;font-weight:bold">فهرست مطالب</p>
<p align="right" style="font-family:'Times New Roman', Times, serif;font-size:16px;font-weight:bold">بخش اول : شروع<br />
<a href="1_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نگاه کلی و مفاهیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخ کشی چگونه کار می کند</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخها در مقابل پردازه ها</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده کنیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده نکنیم</a><br />
<a href="1_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تولید و راه اندازی نخها</a><br />
<a href="1_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;فرستادن داده به تابع ThreadStart</a><br />
<a href="1_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نامگذاری نخها</a><br />
<a href="1_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخهای پیش زمینه و پس زمینه</a><br />
<a href="1_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اولویت نخ</a><br />
<a href="1_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;مدیریت استثناء</a><br />
بخش دوم : همزمانی مقدماتی<br />
<a href="2_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملزومات همزمانی</a><br />
<a href="2_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;بلوکه کردن</a><br />
<a href="2_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;خوابیدن و ریسندگی</a><br />
<a href="2_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;الحاق یک نخ</a><br />
<a href="2_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری و امنیت نخ</a><br />
<a href="2_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انتخاب شیء همزمانی</a><br />
<a href="2_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری لانه ای</a><br />
<a href="2_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع قفل گذاری کنیم</a><br />
<a href="2_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملاحضات عملکرد</a><br />
<a href="2_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;امنیت نخ</a><br />
<a href="2_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وقفه و انصراف</a><br />
<a href="2_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وضعیت نخ</a><br />
<a href="2_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;دستگیره های کنترل انتظار</a><br />
<a href="2_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AutoResetEvent</a><br />
<a href="2_17.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ManualResetEvent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_18.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mutex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_19.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Semaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_20.htm" class="lnks" dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SignalAndWait , WaitAny&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>and WaitAll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_21.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متون همزمانی</a><br />
<a href="2_22.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درون روی</a><br />
بخش سوم : بکارگیری نخها<br />
<a href="3_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;آپارتمانها و فرمهای ویندوز</a><br />
<a href="3_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعیین یک مدل آپارتمانی</a><br />
<a href="3_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control.Invoke</a><br />
<a href="3_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کارگر پس زمینه</a><br />
<a href="3_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کلاس ReaderWriterLock</a><br />
<a href="3_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استخر نخها</a><br />
<a href="3_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نماینده های ناهمزمان</a><br />
<a href="3_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متدهای ناهمزمان از پیش تعریف شده</a><br />
<a href="3_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تایمرها</a><br />
<a href="3_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انباره محلی</a><br />
بخش چهارم : موضوعات پیشرفته<br />
<a href="4_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;همزمانی غیربلوکه ای</a><br />
<a href="4_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اتمی عمل کردن و قرار گرفتن <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; در کنار هم با الگوی همزمانی</a><br />
<a href="4_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;حصارهای حافظه و فراریت</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse</a><br />
<a href="4_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعاریف Wait و Pulse</a><br />
<a href="4_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چگونه از Wait و Pulse استفاده کنیم</a><br />
<a href="4_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse تعمیم یافته</a><br />
<a href="4_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;صف تولید کننده/مصرف کننده</a><br />
<a href="4_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استفاده از زمان timeout برای Wait</a><br />
<a href="4_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;رقابتها و تصدیق</a><br />
<a href="4_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;شبیه سازی دستگیره های کنترل انتظار</a><br />
<a href="4_12.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait  و   Pulse در مقابل دستگیره های <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; کنترل انتظار</a><br />
<a href="4_13.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انصراف از نخها</a><br />
<a href="4_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درآمیختگی با Thread.Abort</a><br />
<a href="4_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به دامنه های برنامه</a><br />
<a href="4_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به پردازه ها</a><br />
</p>
</td>
</tr>
</table>
</body>

</html>
