<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="negahe%20koli_files/filelist.xml">
<title>SA</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Sepinood</o:Author>
  <o:LastAuthor>Sepinood</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2007-04-16T16:09:00Z</o:Created>
  <o:LastSaved>2007-04-16T16:09:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>728</o:Words>
  <o:Characters>4156</o:Characters>
  <o:Company>Nasa</o:Company>
  <o:Lines>34</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4875</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-alt:"Courier New";
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:ComicSansMS;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:auto;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
<link href="styl.css" rel="stylesheet" type="text/css" />
</head>

<body lang=EN-US style='tab-interval:.5in' topmargin="0" bottommargin="0" class="LeftFrmText" dir="rtl">
<table width="1024" border="0">
<tr>
<td valign="top" style="color:#000099;font-size:14px;line-height:21px" dir="ltr" >
<p class="parafStart" dir="rtl">امنیت نخ ( Thread Safety )</p>
<div class=Section1>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک کد </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> کدی است که در قالب یک سناریوی چند
ریسمانی هیچگونه ابهام و مورد نامشخصی نداشته باشد و کاملاً روند مشخص و معینی
داشته باشد . ایمنی در ریسمانی بودن (</span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safety</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span>) در قدم اول ، با مکانیزم قفلگذاری و همچنین کاهش احتمال فعل و
انفعال بین ریسمانها حاصل میشود.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک کد
که در هر سناریویی </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> باشد </span><span dir=LTR style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>reentrant</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> خوانده میشود ( یعنی میتواند توسط روالهای مستقلی اجرا شود ) .
انواع داده های عمومی (همه منظوره – </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>general purpose</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span>) به ندرت </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> هستند ، به دلایل زیر :<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='margin-right:39.75pt;text-align:right;
text-indent:-.25in;mso-list:l0 level1 lfo1;tab-stops:list 39.75pt right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><![if !supportLists]><span
style='font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-language:FA'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir=RTL><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>تولید و توسعه برنامه ای که به
طور کامل </span></span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
باشد میتواند مهم و گران باشد ، مخصوصاً اگر این نوع عمومی فیلدهای زیادی داشته
باشد ( هر فیلد پتانسیل فعل و انفعال در یک کد چند ریسمانی را دارد )</span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='margin-right:39.75pt;text-align:right;
text-indent:-.25in;mso-list:l0 level1 lfo1;tab-stops:list 39.75pt right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><![if !supportLists]><span
style='font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-language:FA'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir=RTL><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Thread-safety</span></span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> هزینه اجرایی دارد (خواه نوع مورد
نظر توسط چندریسمان استفاده شود یا خیر)</span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='margin-right:39.75pt;text-align:right;
text-indent:-.25in;mso-list:l0 level1 lfo1;tab-stops:list 39.75pt right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><![if !supportLists]><span
style='font-size:11.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol;mso-bidi-language:FA'><span style='mso-list:Ignore'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir=RTL><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک نوع </span></span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> لزوماً برنامه را </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> نمیکند و گاهاً استفاده از آن فرقی
با استفاده نکردن از آن ندارد و کار عبسی است.</span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>بنابراین
</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'>thread-safety</span><span dir=RTL></span><span lang=FA style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> معمولاً
فقط در جایی که لازم است پیاده سازی میشود تا یک سناریوی چند ریسمانی را کنترل
کند.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>به هر
حال راههایی هر چند کم برای کلک زدن و داشتن کلاسهای بزرگ و پیچیده که در یک محیط
چندریسمانی بصورت امن اجرا شوند ، وجود دارد. یک راه این است بر بخشهای بزرگی از
کد ( حتی مثلاً تمام یک شیء به طور کامل ) یک قفل انحصاری بگذاریم و بدین صورت
دسترسی نوبتی را در یک سطح بالا پیاده سازی کنیم که البته در این صورت خاصیت دانه
ای بودن را قربانی کرده ایم. این تاکتیک همچنین باعث میشود یک شی </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-unsafe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> در یک کد </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> استفاده شود و لذا یک قفل انحصاری یکسان
برای حفاظت از دسترسی به متدها ، ویژگیها و فیلدهای شیء </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-unsafe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> به کار رود. <o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 3.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed;
border:none;mso-border-alt:solid windowtext 3.0pt;padding:0in;mso-padding-alt:
1.0pt 4.0pt 1.0pt 4.0pt'><span lang=FA style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>گذشته از انواع ابتدایی ، تعداد بسیار کمی از انواع </span><span
dir=LTR></span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=LTR></span>.NET framework</span><span dir=RTL></span><span
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
<span lang=FA>، وقتی نمونه سازی میشوند </span></span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> هستند آن هم بدلیل چیزی بیش از
دسترسی </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>read-only</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
همزمان . لذا مسوولیت انجام </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safety</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> (که معمولاً با استفاده از قفلهای انحصاری حاصل میشود ) متوجه
برنامه نویس و سازنده برنامه است.<o:p></o:p></span></p>

</div>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک راه
دیگر برای کلک زدن این است که با کاهش تعداد داده های مشترک ، فعل و انفعال
ریسمانی را کاهش دهیم. این یک شیوه فوق العاده است و در سرویس دهنده های وبی (</span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>web
page server</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>) و برنامه های </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>middle-tire</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ناپایدار (</span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>stateless</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span>) از آن استفاده میشود . از آنجا که
چندین درخواست سرویس گیرنده میتواند به طور همزمان برسد ، هر درخواستی در قالب
ریسمان مربوطه خود وارد میشود (موضوعی در زمینه </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>ASP.NET</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ، </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Web Services</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> یا </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Remoting
architecture</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>) و معنی آن ، این
است که متدهایی که آنها فراخوانی میکنند باید </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> باشد . یک طراحی ناپایدار ( معمولاً
به دلایل مقیاسی – یعنی حجم کار بالاست - ) فی نفسه احتمال فعل و انفعال را کاهش
میدهد زیرا کلاسها قادر نیستند داده را بین هر درخواست بدون تغییر نگه دارند . و
لذا در اینصورت فعل وانفعال ریسمانی محدود به فیلدهای ایستا (</span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>static</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> )<span style='mso-spacerun:yes'> 
</span>، ( که ممکن است مثلاً برای کش کردن در حافظه تولید و به کار روند) و یا
تولید ساختارهای اعتبار سنجی و حسابرسی میشود .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><b><span
lang=FA style='font-size:16.0pt;mso-bidi-language:FA'>امنیت ریسمانی و انواع
داده </span></b><span dir=LTR></span><b><span dir=LTR style='font-size:16.0pt;
mso-bidi-language:FA'><span dir=LTR></span>.NET Framework</span></b><span
dir=RTL></span><b><span lang=FA style='font-size:16.0pt;mso-bidi-language:FA'><span
dir=RTL></span> ( </span></b><b><span dir=LTR style='font-size:16.0pt;
mso-bidi-language:FA'>Thread-Safety and .NET Framework Types</span></b><span
dir=RTL></span><b><span lang=FA style='font-size:16.0pt;mso-bidi-language:FA'><span
dir=RTL></span> )</span></b><span lang=FA style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>قفلگذاری
میتواند برای تبدیل یک کد </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-unsafe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> به یک کد </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> استفاده شود . یک مثال خوب برای آن در </span><span dir=LTR></span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=LTR></span>.NET Framework</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
است ( تقریباً تمام انواع غیر ابتدایی در </span><span dir=LTR></span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=LTR></span>.NET Framework</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
زمانی که نمونه سازی میشوند ، </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> نیستند و هنوز میتوانند در یک کد چند ریسمانی بکار روند مگر اینکه
تمام دسترسیها به آن شیء با یک قفل محدود و محافظت شده باشد . در اینجا مثالی را
بررسی میکنیم که در آن دو ریسمان به طور همزمان آیتم هایی را به یک لیست یکسان
وارد میکنند و سپس عناصر لیست را میشمارد ( چاپ میکنند ) :<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><b><span style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:
Courier;color:blue'>class</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>ThreadSafe</span></b><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>static</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>List </span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&lt;</span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string</span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>&gt; list = </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new </span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:teal'>List </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&lt;</span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>string</span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>&gt;();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>static</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> void </span></b><st1:place
w:st="on"><b><span style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:
 Courier;color:black'>Main</span></b></st1:place><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new</span></b></span><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Thread </span></b><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>(Go).Start();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>new</span></b></span><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:teal'>Thread </span></b><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'>(Go).Start();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><span dir=LTR></span><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span dir=LTR></span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>static</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> void </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>AddItems() {<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>for</span></b></span><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>int </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>i = 0; i &lt; 100; i++)<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><i><span lang=AR-SA dir=RTL style='font-size:11.5pt;
font-family:Courier-BoldOblique;mso-bidi-font-family:Courier-BoldOblique;
color:blue'><span dir=RTL></span><span style='mso-spacerun:yes'>      </span></span></i></b><span
class=GramE><b><i><span style='font-size:11.5pt;font-family:Courier-BoldOblique;
mso-bidi-font-family:Courier-BoldOblique;color:blue'>lock</span></i></b></span><b><i><span
style='font-size:11.5pt;font-family:Courier-BoldOblique;mso-bidi-font-family:
Courier-BoldOblique;color:blue'> </span></i></b><b><i><span style='font-size:
11.5pt;font-family:Courier-BoldOblique;mso-bidi-font-family:Courier-BoldOblique;
color:black'>(list)<o:p></o:p></span></i></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>        </span></span></b><b><span style='font-size:
11.5pt;font-family:Courier;mso-bidi-font-family:Courier;color:black'>Add (</span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:maroon'>&quot;<span class=GramE>Item &quot;</span> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>+ list.Count);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>string</span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:black'>[</span></b></span><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>] items;<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>lock</span></b></span><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(list) items = list.ToArray();<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:blue'><span dir=RTL></span><span
style='mso-spacerun:yes'>    </span></span></b><span class=GramE><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:blue'>foreach</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(</span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>string </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>s </span></b><b><span style='font-size:11.5pt;font-family:Courier;
mso-bidi-font-family:Courier;color:blue'>in </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>items) </span></b><b><span style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:teal'>Console</span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>.WriteLine (s);<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
dir=RTL></span><b><span lang=AR-SA dir=RTL style='font-size:11.5pt;font-family:
Courier;mso-bidi-font-family:Courier;color:black'><span dir=RTL></span><span
style='mso-spacerun:yes'>  </span></span></b><span dir=LTR></span><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'><span dir=LTR></span>}<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>}</span></b><b><span style='font-family:Courier;mso-bidi-font-family:
Courier;color:black'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>در
مورد این مثال ، ما بر روی خود لیست قفل گذاشتیم که در این مورد مناسب است . اگر
دو لیست وابسته بهم داشتیم ، احتیاج داشتیم که بر روی یک شیء مشترک بین آنها قفل
بگذاریم ( مثلاً یک فیلد مجزا از دو لیست ) .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>شمارش
این مجموعه ها ( لیستها ) نیز </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-unsafe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> است و اگر در حالیکه یک ریسمان شمارش میکند ، دیگری لیست را تغییر
دهد ، یک استثناء اتفاق خواهد افتاد . در این مثال ، ما بجای قفلگذاری بر روند
شمارش ، عناصر لیست را ابتدا در یک آرایه کپی میکنیم . این کار ما از ایجاد یک قفل
سختگیرانه بر روی روند شمارش که بالقوه زمانگیر است ، جلوگیری میکند .<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>حال یک
فرض جالب : تصور کنید کلاس لیست واقعاً </span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> می بود . این کار چه فایده ای دارد (
چه گره ای از کار ما باز خواهد کرد ) ؟ ساده تر بگوییم ، فرض کنیم میخواهیم به
لیست فرضی خود که </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
است آیتم جدیدی وارد کنیم : مطابق زیر :<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><b><span style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:
Courier;color:blue'>if</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier;color:blue'> </span></b><b><span
style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:Courier;
color:black'>(!myList.Contains (newItem)) myList.Add (newItem);</span></b><b><span
lang=FA dir=RTL style='mso-ascii-font-family:Courier;mso-hansi-font-family:
Courier;color:black;mso-bidi-language:FA'><o:p></o:p></span></b></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>خواه
لیست </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
باشد یا نه ، قطعاً این عبارت منفی خواهد شد (حاصل نهایی عبارت </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>if</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ، منطق </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>Not</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> خواهد شد ) ، کل عبارت </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>if</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> باید در یک قفل باشد ( تا از ایجاد
انحصار طلبی بین تست وجود یک ایتم و افزودن یک ایتم جدید جلوگیری شود ) ، مشابه
چنین قفلی نیز در هر کجا که لیست را دستکاری میکنیم احتیاج میشود . برای مثال ،
عبارت زیر نیز باید در یک یک قفل مشابه قرار گیرد :<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><b><span style='font-size:11.5pt;font-family:Courier;mso-bidi-font-family:
Courier'>myList.Clear(</span></b></span><b><span style='font-size:11.5pt;
font-family:Courier;mso-bidi-font-family:Courier'>);</span></b><b><span
style='font-family:Courier;mso-bidi-font-family:Courier'><o:p></o:p></span></b></p>

<p class=MsoNormal style='tab-stops:right 537.85pt;mso-layout-grid-align:none;
text-autospace:none'><span lang=FA dir=RTL style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>تا از
انحصار آن جلوگیری کنیم . به عبارت دیگر ، اگر بخواهیم اینگونه عمل کنیم مجبور
میشویم تقریباً تمام کلاسهای مجموعه </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-unsafe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> خود را قفل کنیم . لذا نتیجه میگیریم که </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safety</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ذاتی (خودکار </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>built-in</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span>) حقیقتاً کار بیهوده ای است.<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>با
توجه به این مطلب ، هر برنامه نویسی که بخواهد یک کامپوننت سفارشی بنویسد ، میتواند
از مسوولیت شانه خالی کند ( چرا باید کامپوننت خود را </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>biult-in
thread-safe</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> کند ، در حالی که
میتواند آنرا براحتی به پایان برساند چرا که کامپوننت میتواند بطرق گوناگون بکار
رود )<o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>یک
نکته قابل ذکر است : قفلگذاری سفارشی بر روی یک شیء فقط در صورتی که تمام
ریسمانهای همزمان از آن آگاه شوند و قفل را بکار ببرند ، کارایی دارد .که ممکن است
این مورد در صورتی که شیء در یک </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>scope</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> گسترده استفاده شود ، حاصل نگردد . بدترین سناریو در این مورد در
عناصر ایستای (</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>static</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>)
یک نوع عمومی (</span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>public</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>)
به چشم می آید . برای مثال ، فرض کنید یک خصوصیت ایستای ساختار </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>DateTime</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ، به نام </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>DateTime.Now</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ، </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> نباشد و دو فراخوانی همزمان باعث خروجی
اشتباه و یا رخ دادن استثناء شود . تنها راه علاج این مشکل ممکن است قفلگذاری
خارجی بر روی خود نوع ، در حوالی فراخوانیهای </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>DateTime.Now</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> باشد ، <span
style='mso-spacerun:yes'> </span></span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>lock(typeof(DateTime))</span><span
dir=RTL></span><span style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:
FA'><span dir=RTL></span> <span lang=FA><span
style='mso-spacerun:yes'> </span>، که تنها در صورتی که همه برنامه نویسان موافق
انجام آن باشند ، کار خواهد کرد . و این بعید است .<o:p></o:p></span></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>بدین
علت عناصر ایستای ساختار </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>DateTime</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> به منظور </span><span dir=LTR style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> بودن گارانتی شده اند. این یک الگوی مرسوم در </span><span
dir=LTR></span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=LTR></span>.NET Framework</span><span dir=RTL></span><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span
dir=RTL></span> است . یعنی عناصر ایستا ( </span><span dir=LTR style='font-size:
11.0pt;font-family:Tahoma;mso-bidi-language:FA'>static members</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> ) ، </span><span dir=LTR
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> هستند در حالیکه عناصر نمونه ( </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>instance
member</span><span dir=RTL></span><span lang=FA style='font-size:11.0pt;
font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span> ) اینگونه نیستند
. رعایت این الگو همچنین در نوشتن و تولید انواع جدید با معناست ، تا بتوانیم
واقعاً یک نوع جدید مناسب بسازیم نه یک چیز عجیب و غریب و پیچیده که </span><span
dir=LTR style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'>thread-safe</span><span
dir=RTL></span><span lang=FA style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'><span dir=RTL></span> کردن آن نیز کاری نشدنیست . <o:p></o:p></span></p>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 3.0pt;
padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed;
border:none;mso-border-alt:solid windowtext 3.0pt;padding:0in;mso-padding-alt:
1.0pt 4.0pt 1.0pt 4.0pt'><span lang=FA style='font-size:11.0pt;font-family:
Tahoma;mso-bidi-language:FA'>وقتی کامپوننت ها را برای استفاده عمومی مینویسیم ، خوبه
که به </span><span dir=LTR style='font-size:11.0pt;font-family:Tahoma;
mso-bidi-language:FA'>thread-safety</span><span dir=RTL></span><span lang=FA
style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><span dir=RTL></span>
بودن هم توجه داشته باشیم ، هر چند صوری باشد . این بدان معنی است که دقت ویژه ای
به عناصر ایستا داشته باشیم ، خواه درون کلاس استفاده بشوند و یا دسترسی عمومی
داشته باشند .<o:p></o:p></span></p>

</div>

<p class=MsoNormal dir=RTL style='text-align:right;tab-stops:right 537.85pt;
mso-layout-grid-align:none;text-autospace:none;direction:rtl;unicode-bidi:embed'><span
lang=FA style='font-size:11.0pt;font-family:Tahoma;mso-bidi-language:FA'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>




</td>
<td width="5"></td>
<td width="2" valign="top">
<table width="2" border="0" cellspacing="0" cellpadding="0" >
  <tr>
    <td background="topborder.jpg" height="10"></td>
  </tr>
  <tr>
    <td bgcolor="#ccccff" height="1250" valign="top"></td>
  </tr>
  <tr>
    <td background="bottonborder.jpg" height="10" ></td>
  </tr>
</table>
</td>
<td width="5"></td>
<td width="258" valign="top">
<p align="center" style="font-family:'Times New Roman', Times, serif;font-size:18px;font-weight:bold">فهرست مطالب</p>
<p align="right" style="font-family:'Times New Roman', Times, serif;font-size:16px;font-weight:bold">بخش اول : شروع<br />
<a href="1_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نگاه کلی و مفاهیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخ کشی چگونه کار می کند</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخها در مقابل پردازه ها</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده کنیم</a><br />
<a href="1_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع از نخها استفاده نکنیم</a><br />
<a href="1_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تولید و راه اندازی نخها</a><br />
<a href="1_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;فرستادن داده به تابع ThreadStart</a><br />
<a href="1_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نامگذاری نخها</a><br />
<a href="1_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نخهای پیش زمینه و پس زمینه</a><br />
<a href="1_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اولویت نخ</a><br />
<a href="1_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;مدیریت استثناء</a><br />
بخش دوم : همزمانی مقدماتی<br />
<a href="2_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملزومات همزمانی</a><br />
<a href="2_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;بلوکه کردن</a><br />
<a href="2_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;خوابیدن و ریسندگی</a><br />
<a href="2_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;الحاق یک نخ</a><br />
<a href="2_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری و امنیت نخ</a><br />
<a href="2_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انتخاب شیء همزمانی</a><br />
<a href="2_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;قفل گذاری لانه ای</a><br />
<a href="2_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چه موقع قفل گذاری کنیم</a><br />
<a href="2_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ملاحضات عملکرد</a><br />
<a href="2_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;امنیت نخ</a><br />
<a href="2_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وقفه و انصراف</a><br />
<a href="2_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;وضعیت نخ</a><br />
<a href="2_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;دستگیره های کنترل انتظار</a><br />
<a href="2_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AutoResetEvent</a><br />
<a href="2_17.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ManualResetEvent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_18.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mutex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_19.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Semaphore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_20.htm" class="lnks" dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SignalAndWait , WaitAny&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>and WaitAll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><br />
<a href="2_21.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متون همزمانی</a><br />
<a href="2_22.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درون روی</a><br />
بخش سوم : بکارگیری نخها<br />
<a href="3_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;آپارتمانها و فرمهای ویندوز</a><br />
<a href="3_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعیین یک مدل آپارتمانی</a><br />
<a href="3_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Control.Invoke</a><br />
<a href="3_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کارگر پس زمینه</a><br />
<a href="3_5.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;کلاس ReaderWriterLock</a><br />
<a href="3_6.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استخر نخها</a><br />
<a href="3_7.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;نماینده های ناهمزمان</a><br />
<a href="3_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;متدهای ناهمزمان از پیش تعریف شده</a><br />
<a href="3_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تایمرها</a><br />
<a href="3_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انباره محلی</a><br />
بخش چهارم : موضوعات پیشرفته<br />
<a href="4_1.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;همزمانی غیربلوکه ای</a><br />
<a href="4_2.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;اتمی عمل کردن و قرار گرفتن <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; در کنار هم با الگوی همزمانی</a><br />
<a href="4_3.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;حصارهای حافظه و فراریت</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;تعاریف Wait و Pulse</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;چگونه از Wait و Pulse استفاده کنیم</a><br />
<a href="4_4.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait و Pulse تعمیم یافته</a><br />
<a href="4_8.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;صف تولید کننده/مصرف کننده</a><br />
<a href="4_9.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;استفاده از زمان timeout برای Wait</a><br />
<a href="4_10.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;رقابتها و تصدیق</a><br />
<a href="4_11.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;شبیه سازی دستگیره های کنترل انتظار</a><br />
<a href="4_12.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait  و   Pulse در مقابل دستگیره های <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; کنترل انتظار</a><br />
<a href="4_13.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;انصراف از نخها</a><br />
<a href="4_14.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;درآمیختگی با Thread.Abort</a><br />
<a href="4_15.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به دامنه های برنامه</a><br />
<a href="4_16.htm" class="lnks">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;پایان دادن به پردازه ها</a><br />
</p>
</td>
</tr>
</table>
</body>

</html>
